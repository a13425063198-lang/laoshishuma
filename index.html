<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å¤§æ¹¿æ•°ç æ¨è - äºŒæ‰‹æ‰‹æœºé€‰è´­åŠ©æ‰‹</title>
<style>
:root {
    --primary: #4a6cf7;
    --primary-dark: #3a5ce5;
    --secondary: #6c757d;
    --light: #f8f9fa;
    --dark: #343a40;
    --border: #e0e0e0;
    --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    --radius: 10px;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
}

body {
    background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
    padding: 20px;
    min-height: 100vh;
    opacity: 0;
    animation: pageFadeIn 0.6s ease forwards;
}

@keyframes pageFadeIn {
    to { opacity: 1; }
}

.container {
    max-width: 600px;
    margin: 0 auto;
    background: #fff;
    padding: 24px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    border: 1px solid var(--border);
}

.header {
    text-align: center;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 2px solid var(--light);
}

h1 {
    font-size: 24px;
    color: var(--dark);
    margin-bottom: 8px;
    font-weight: 700;
}

.subtitle {
    color: var(--secondary);
    font-size: 13px;
    font-weight: 400;
}

.tip-bar {
    background: rgba(74,108,247,0.06);
    border-left: 3px solid var(--primary);
    padding: 8px 12px;
    margin-bottom: 16px;
    border-radius: 6px;
    font-size: 12px;
    color: #555;
    line-height: 1.4;
}

.filter {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

input, select, button {
    padding: 12px;
    border: 1px solid var(--border);
    border-radius: 8px;
    font-size: 14px;
    transition: all 0.2s ease;
}

input:focus, select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(74, 108, 247, 0.1);
}

#keyword {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="%236c757d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>');
    background-repeat: no-repeat;
    background-position: 12px center;
    background-size: 16px;
    padding-left: 36px;
}

.price-row {
    display: flex;
    gap: 8px;
    align-items: center;
}

.price-input {
    flex: 1;
}

.price-separator {
    color: var(--secondary);
    font-weight: 600;
}

.history-box {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 4px;
}
.history-item {
    background: #f1f3f6;
    color: #555;
    font-size: 12px;
    padding: 4px 8px;
    border-radius: 6px;
    cursor: pointer;
}
.history-item:hover {
    background: #dfe1e6;
}

.filter-actions {
    display: flex;
    gap: 10px;
    margin-top: 4px;
}

.filter-btn {
    flex: 1;
    background: var(--primary);
    color: white;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}
.filter-btn:hover {
    background: var(--primary-dark);
    transform: translateY(-1px);
}

.reset-btn {
    background: var(--light);
    color: var(--dark);
    border: 1px solid var(--border);
}
.clear-all-btn {
    background: #fff;
    color: #e74c3c;
    border: 1px solid #fad0d0;
}

.result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 20px;
    margin-bottom: 10px;
}
.result-count { font-size:13px; color:var(--secondary); }
.sort-options { display:flex; gap:6px; }
.sort-btn { padding:5px 10px; font-size:12px; background:var(--light); border:1px solid var(--border); border-radius:5px; cursor:pointer; }
.sort-btn.active { background:var(--primary); color:white; border-color:var(--primary); }

.phone-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.phone-item {
    background: white;
    padding: 16px;
    border-radius: 8px;
    border: 1px solid var(--border);
    cursor: pointer;
    transition: all 0.25s ease;
    opacity: 0;
    transform: translateY(10px);
    animation: cardSlideIn 0.4s ease forwards;
}
@keyframes cardSlideIn { to{opacity:1; transform:translateY(0);} }
.phone-item:hover {
    border-color: var(--primary);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.brand-tag {
    display: inline-block;
    padding: 2px 8px;
    background: rgba(74,108,247,0.1);
    color: var(--primary);
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    margin-bottom: 6px;
}
.phone-name { font-size:16px; color:var(--dark); font-weight:700; margin-bottom:4px; }
.phone-price { color:#e74c3c; font-size:18px; font-weight:700; margin-bottom:6px; }
.phone-price::after { content:'å…ƒ'; font-size:13px; color:var(--secondary); margin-left:2px; }
.phone-spec { font-size:13px; color:var(--secondary); line-height:1.4; }
.phone-reason { font-size:12px; color:#666; margin-top:6px; padding-top:6px; border-top:1px dashed var(--border); }

.no-result { text-align:center; padding:40px 20px; color:var(--secondary); }
.recommend-label { font-size:12px; color:var(--primary); text-align:center; margin:10px 0; }

.loading { text-align:center; padding:30px; color:var(--secondary); }
.loading-spinner {
    display: inline-block;
    width: 34px; height:34px;
    border:3px solid var(--light);
    border-top-color: var(--primary);
    border-radius:50%;
    animation: spin 0.7s linear infinite;
}
@keyframes spin { to{transform:rotate(360deg);} }

.modal {
    position: fixed; top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.5); display:none; justify-content:center; align-items:center;
    padding:20px; z-index:1000;
}
.modal-content {
    background:#fff; padding:24px; border-radius:12px; max-width:450px; width:100%;
    animation: modalSlideIn 0.25s ease;
}
@keyframes modalSlideIn {
    from{opacity:0; transform:translateY(15px);}
    to{opacity:1; transform:translateY(0);}
}
.modal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:16px; }
.modal-title { font-size:20px; font-weight:700; color:var(--dark); }
.close-btn { background:none; border:none; font-size:22px; color:var(--secondary); cursor:pointer; }
.modal-spec { background:var(--light); padding:14px; border-radius:6px; margin:14px 0; font-size:14px; }
.modal-price { font-size:24px; color:#e74c3c; font-weight:700; margin:16px 0; }
.modal-reason { background:rgba(74,108,247,0.05); padding:14px; border-radius:6px; border-left:4px solid var(--primary); margin-top:16px; font-size:13px; }

.brand-xiaomi{background:rgba(255,103,0,0.1);color:#ff6700;}
.brand-redmi{background:rgba(237,28,36,0.1);color:#ed1c24;}
.brand-apple{background:rgba(0,0,0,0.1);color:#000;}
.brand-oppo{background:rgba(0,150,238,0.1);color:#0096ee;}
.brand-oneplus{background:rgba(237,28,36,0.1);color:#ed1c24;}
.brand-vivo{background:rgba(0,114,187,0.1);color:#0072bb;}
.brand-meizu{background:rgba(0,200,83,0.1);color:#00c853;}
.brand-huawei{background:rgba(237,28,36,0.1);color:#ed1c24;}
</style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>ğŸ“± å¤§æ¹¿æ•°ç æ¨è</h1>
        <p class="subtitle">äºŒæ‰‹æ‰‹æœºæ™ºèƒ½ç­›é€‰å¹³å°</p>
    </div>

    <div class="tip-bar" id="tipBar">åŠ è½½ä¸­...</div>

    <div class="filter">
        <div class="filter-group">
            <input type="text" id="keyword" placeholder="æœç´¢æ‰‹æœºå‹å·æˆ–é…ç½®...">
            <div class="history-box" id="historyBox"></div>
        </div>

        <div class="filter-group">
            <select id="brand">
                <option value="å…¨éƒ¨">æ‰€æœ‰å“ç‰Œ</option>
                <option value="å°ç±³">å°ç±³</option>
                <option value="çº¢ç±³">çº¢ç±³</option>
                <option value="ä¸€åŠ ">ä¸€åŠ </option>
                <option value="OPPO">OPPO</option>
                <option value="vivo">vivo</option>
                <option value="è‹¹æœ">è‹¹æœ</option>
                <option value="é­…æ—">é­…æ—</option>
                <option value="åä¸º">åä¸º</option>
            </select>
        </div>

        <div class="filter-group">
            <div class="price-row">
                <div class="price-input">
                    <input type="number" id="minPrice" placeholder="æœ€ä½ä»·" min="0">
                </div>
                <span class="price-separator">-</span>
                <div class="price-input">
                    <input type="number" id="maxPrice" placeholder="æœ€é«˜ä»·" min="0">
                </div>
            </div>
        </div>

        <div class="filter-actions">
            <button class="filter-btn" onclick="filterPhone()">ğŸ” æœç´¢</button>
            <button class="filter-btn reset-btn" onclick="resetFilters()">ğŸ”„ é‡ç½®</button>
            <button class="filter-btn clear-all-btn" onclick="clearAllFilters()">ğŸ—‘ æ¸…ç©º</button>
        </div>
    </div>

    <div class="result-header">
        <div class="result-count" id="resultCount"></div>
        <div class="sort-options">
            <button class="sort-btn" onclick="sortPhones('default')" id="sortDefault">é»˜è®¤</button>
            <button class="sort-btn" onclick="sortPhones('asc')" id="sortAsc">ä»·æ ¼å‡åº</button>
            <button class="sort-btn" onclick="sortPhones('desc')" id="sortDesc">ä»·æ ¼é™åº</button>
        </div>
    </div>

    <div id="result"></div>
</div>

<div class="modal" id="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="modalTitle"></h2>
            <button class="close-btn" onclick="closeModal()">Ã—</button>
        </div>
        <div class="brand-tag" id="modalBrand"></div>
        <div class="modal-price" id="modalPrice"></div>
        <div class="modal-spec" id="modalSpec"></div>
        <div class="modal-reason" id="modalReason"></div>
    </div>
</div>

<script>
const phones = [
    {brand:"å°ç±³",name:"å°ç±³10",price:380,spec:"éªé¾™865ã€90Hz AMOLEDã€4780mAhã€30W",reason:"ç»å…¸æ——èˆ°ï¼Œæ€§ä»·æ¯”æé«˜"},
    {brand:"å°ç±³",name:"å°ç±³10 Pro",price:370,spec:"éªé¾™865ã€120Hzã€4500mAhã€50W",reason:"å½“å¹´æ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³10s",price:400,spec:"éªé¾™870ã€4780mAh",reason:"éŸ³è´¨æ— æ•Œï¼Œæ€§ä»·æ¯”é«˜"},
    {brand:"å°ç±³",name:"å°ç±³10 Ultra",price:480,spec:"éªé¾™865ã€120Hzã€4500mAhã€120W",reason:"å°ç±³åˆä»£å½±åƒæœºçš‡"},
    {brand:"å°ç±³",name:"å°ç±³11",price:370,spec:"éªé¾™888ã€2K 120Hzã€4600mAhã€55W",reason:"2Kå±æ——èˆ°ï¼Œæ‰‹æ„Ÿè½»è–„"},
    {brand:"å°ç±³",name:"å°ç±³11 Pro",price:400,spec:"éªé¾™888ã€2Kã€5000mAhã€67W",reason:"å¤§ç”µæ± ï¼Œæ•£çƒ­æ›´å¼º"},
    {brand:"å°ç±³",name:"å°ç±³11 Ultra",price:600,spec:"éªé¾™888ã€2Kã€5000mAhã€67Wã€ä¸‰ä¸»æ‘„",reason:"å½“å¹´å®‰å“å½±åƒæœºçš‡"},
    {brand:"å°ç±³",name:"å°ç±³12",price:500,spec:"éªé¾™8 Gen1ã€å°å±ã€4500mAhã€67W",reason:"æ‰‹æ„Ÿè½»è–„ï¼Œå°å±æ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³12 Pro",price:500,spec:"éªé¾™8 Gen1ã€2Kã€4600mAhã€120W",reason:"å¤§å±å¿«å……æ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³12X",price:490,spec:"éªé¾™870ã€å°å±ã€4500mAhã€67W",reason:"å‘çƒ­ä½ï¼Œä½“éªŒç¨³å®š"},
    {brand:"å°ç±³",name:"å°ç±³12Proå¤©ç‘ç‰ˆ",price:550,spec:"å¤©ç‘9000+ã€5500mAh",reason:"æ¸©æ§å¥½ï¼Œæ€§ä»·æ¯”é«˜"},
    {brand:"å°ç±³",name:"å°ç±³12S",price:580,spec:"éªé¾™8+ Gen1ã€å°å±ã€4500mAhã€67W",reason:"æ‰‹æ„Ÿå¥½ï¼Œå¾•å¡"},
    {brand:"å°ç±³",name:"å°ç±³12S Pro",price:630,spec:"éªé¾™8+ Gen1ã€2Kã€4600mAhã€120Wã€å¾•å¡",reason:"å¾•å¡å½±åƒ"},
    {brand:"å°ç±³",name:"å°ç±³12S Ultra",price:900,spec:"éªé¾™8+ Gen1ã€2Kã€4860mAhã€67Wã€å¾•å¡ä¸€è‹±å¯¸",reason:"çœŸÂ·å¾•å¡æ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³13",price:880,spec:"éªé¾™8 Gen2ã€å°å±ç›´å±ã€4500mAhã€67Wã€å¾•å¡",reason:"æ‰‹æ„Ÿä¸€æµ"},
    {brand:"å°ç±³",name:"å°ç±³13 Pro",price:930,spec:"éªé¾™8 Gen2ã€2Kæ›²é¢ã€4820mAhã€120Wã€å¾•å¡",reason:"å½±åƒ+æ€§èƒ½åŒæ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³13 Ultra",price:1350,spec:"éªé¾™8 Gen2ã€2Kã€5000mAhã€90Wã€å¾•å¡å››æ‘„",reason:"ä¸“ä¸šå½±åƒæ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³14",price:1260,spec:"éªé¾™8 Gen3ã€å°å±æ——èˆ°ã€IP68ã€å¾•å¡",reason:"å°å±ï¼Œæ€§èƒ½å…¨èƒ½"},
    {brand:"å°ç±³",name:"å°ç±³14 Pro",price:1300,spec:"éªé¾™8 Gen3ã€2Kã€4880mAhã€120Wã€å¾•å¡",reason:"å…¨èƒ½æ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³14 Ultra",price:2200,spec:"éªé¾™8 Gen3ã€2Kã€5300mAhã€90Wã€ä¸“ä¸šå¾•å¡",reason:"å¾•å¡å½±åƒæ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³15",price:2000,spec:"éªé¾™8è‡³å°Šç‰ˆã€6.36è‹±å¯¸1.5Kç›´å±ã€5400mAh+90Wæœ‰çº¿/50Wæ— çº¿",reason:"å°å±æ——èˆ°ï¼Œæ‰‹æ„Ÿå‡è¡¡"},
    {brand:"å°ç±³",name:"å°ç±³15 Pro",price:2400,spec:"éªé¾™8è‡³å°Šç‰ˆã€6.73è‹±å¯¸2Kå¾®æ›²å±ã€6100mAh+90Wæœ‰çº¿/50Wæ— çº¿",reason:"ç»­èˆªå½±åƒï¼Œå…¨èƒ½æ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³15 Ultra",price:3200,spec:"éªé¾™8è‡³å°Šç‰ˆã€6.73è‹±å¯¸2Kå¾®æ›²å±ã€6000mAh+90Wæœ‰çº¿/80Wæ— çº¿ã€å¾•å¡å››æ‘„ï¼ˆå«2äº¿åƒç´ é•¿ç„¦ï¼‰",reason:"å¾•å¡åŠ æŒï¼Œå½±åƒå·…å³°"},
    {brand:"å°ç±³",name:"å°ç±³17",price:3150,spec:"ç¬¬äº”ä»£éªé¾™8è‡³å°Šç‰ˆã€1.5Kç›´å±ã€7000mAh+100Wå¿«å……",reason:"å°å±æ——èˆ°"},
    {brand:"å°ç±³",name:"å°ç±³17 Pro",price:3900,spec:"ç¬¬äº”ä»£éªé¾™8è‡³å°Šç‰ˆã€1.5Kç›´å±ã€6300mAh+100Wå¿«å……ã€å¦™äº«èƒŒå±",reason:"å¦™äº«èƒŒå±ï¼Œç»­èˆªä¼˜ç§€"},
    {brand:"å°ç±³",name:"å°ç±³17 Pro Max",price:4700,spec:"ç¬¬äº”ä»£éªé¾™8è‡³å°Šç‰ˆã€2Kç›´å±ã€7500mAh+100Wå¿«å……ã€å¦™äº«èƒŒå±",reason:"å¦™äº«èƒŒå±ï¼Œç»­èˆªå¤Ÿç”¨ï¼Œæ€§èƒ½å¼ºåŠ²"},
    {brand:"å°ç±³",name:"å°ç±³17Ultra",price:5500,spec:"ç¬¬äº”ä»£éªé¾™8è‡³å°Šç‰ˆã€1.5Kç›´å±ã€5500mAh",reason:"å¾•å¡è”åï¼Œé¡¶çº§æ——èˆ°"},
    {brand:"çº¢ç±³",name:"Redmi K30 Ultra",price:360,spec:"å¤©ç‘1000+ã€120Hz LCDã€4500mAh",reason:"åƒå…ƒç¥æœºï¼ŒLCDå±"},
    {brand:"çº¢ç±³",name:"Redmi K30S è‡³å°Šç‰ˆ",price:430,spec:"éªé¾™865ã€144Hz LCDã€5000mAh",reason:"LCDæŠ¤çœ¼"},
    {brand:"çº¢ç±³",name:"Redmi K40",price:470,spec:"éªé¾™870ã€120Hz E4ã€4520mAh",reason:"æ€§ä»·æ¯”ç¥Uï¼Œå±å¹•ä¼˜ç§€"},
    {brand:"çº¢ç±³",name:"Redmi K40S",price:480,spec:"éªé¾™870ã€VCæ•£çƒ­ã€67Wå¿«å……",reason:"æ•£çƒ­å‡çº§ï¼Œæ›´ç¨³"},
    {brand:"çº¢ç±³",name:"Redmi K50",price:480,spec:"å¤©ç‘8100ã€2K 120Hzã€5500mAh",reason:"ç»­èˆªå¼ºï¼Œ2Kç›´å±"},
    {brand:"çº¢ç±³",name:"Redmi K50 Pro",price:550,spec:"å¤©ç‘9000ã€5000mAhã€120W",reason:"ç™¾ç“¦å¿«å……ï¼Œæ€§èƒ½æ——èˆ°"},
    {brand:"çº¢ç±³",name:"Redmi K50 è‡³å°Šç‰ˆ",price:620,spec:"éªé¾™8+ã€1.5Kç›´å±ã€5000mAh",reason:"æ€§ä»·æ¯”é«˜"},
    {brand:"çº¢ç±³",name:"Redmi K60",price:580,spec:"éªé¾™8+é™é¢‘ç‰ˆã€2Ké«˜å…‰å±ã€5500mAh",reason:"2Kå±+é•¿ç»­èˆª"},
    {brand:"çº¢ç±³",name:"Redmi K60 Pro",price:720,spec:"éªé¾™8 Gen2ã€2Kã€120Wå¿«å……",reason:"æ€§èƒ½å°é’¢ç‚®"},
    {brand:"çº¢ç±³",name:"Redmi K60 è‡³å°Šç‰ˆ",price:650,spec:"å¤©ç‘9200+ã€ç‹‚æš´æ€§èƒ½ã€1.5K",reason:"æ€§ä»·æ¯”æ¸¸æˆæ——èˆ°"},
    {brand:"çº¢ç±³",name:"Redmi K70",price:850,spec:"éªé¾™8 Gen2ã€2Ké«˜å…‰å±ã€5000mAhã€120W",reason:"è´¨æ„Ÿã€å±å¹•ã€ç»­èˆªå…¨æ‹‰æ»¡"},
    {brand:"çº¢ç±³",name:"Redmi K70E",price:790,spec:"å¤©ç‘8300ã€1.5Kã€5500mAhã€90W",reason:"æ€§ä»·æ¯”ç¥æœº"},
    {brand:"çº¢ç±³",name:"Redmi K70 Pro",price:1080,spec:"éªé¾™8 Gen3ã€2Kã€120W",reason:"æ——èˆ°ä¸‹æ”¾"},
    {brand:"çº¢ç±³",name:"Redmi K70 è‡³å°Šç‰ˆ",price:1400,spec:"å¤©ç‘9300+ã€ç”µç«çº§æ•£çƒ­ã€1.5K",reason:"å¼ºæ€§èƒ½"},
    {brand:"çº¢ç±³",name:"Redmi Turbo 3",price:750,spec:"éªé¾™8s Gen3ã€1.5Kã€5000mAh",reason:"æ€§èƒ½å°é’¢ç‚®"},
    {brand:"çº¢ç±³",name:"Redmi Turbo 4",price:900,spec:"å¤©æœº8400Ultraã€1.5K",reason:"æ€§ä»·æ¯”ç¥æœº"},
    {brand:"çº¢ç±³",name:"Redmi Turbo 4Pro",price:1200,spec:"éªé¾™8s Gen4ã€1.5Kç›´å±ã€7550mAh",reason:"ç»­èˆªå¾ˆå¼ºï¼Œæ€§ä»·æ¯”é«˜"},
    {brand:"OPPO",name:"Find X6",price:950,spec:"å¤©ç‘9200ã€120Hzã€4800mAhã€80W",reason:"è¶…å…‰æ„Ÿæ½œæœ›é•¿ç„¦"},
    {brand:"OPPO",name:"Find X6 Pro",price:1300,spec:"éªé¾™8 Gen2ã€120Hz LTPOã€5000mAhã€100W",reason:"å…¨ç„¦æ®µå¤œæ™¯å½±åƒæ——èˆ°"},
    {brand:"OPPO",name:"Find X7",price:1250,spec:"å¤©ç‘9300ã€120Hzã€5000mAhã€100W",reason:"å¤§å¸ˆå½±åƒ é«˜äº®åº¦ç›´å±"},
    {brand:"OPPO",name:"Find X7 Ultra",price:2300,spec:"éªé¾™8 Gen3ã€120Hz LTPOã€5000mAhã€100W",reason:"å…¨ç„¦æ®µå››æ‘„å½±åƒæ——èˆ°"},
    {brand:"OPPO",name:"Find X8",price:1600,spec:"å¤©ç‘9400ã€120Hzã€5630mAhã€80W",reason:"è½»è–„ï¼Œå“ˆè‹å½±åƒ"},
    {brand:"OPPO",name:"Find X8 Pro",price:2400,spec:"å¤©ç‘9400ã€120Hz LTPOã€5910mAhã€80W",reason:"å…¨ç„¦æ®µé•¿ç„¦ æ——èˆ°ä½“éªŒ"},
    {brand:"OPPO",name:"Find X8 Ultra",price:3100,spec:"éªé¾™8è‡³å°Šç‰ˆã€120Hz LTPOã€6100mAhã€100W",reason:"å“ˆè‹ï¼Œé¡¶çº§å½±åƒ"},
    {brand:"OPPO",name:"Find X9",price:2300,spec:"å¤©ç‘9500ã€120Hzã€7025mAhã€80W",reason:"å“ˆè‹"},
    {brand:"OPPO",name:"Find X9 Pro",price:3100,spec:"å¤©ç‘9500ã€120Hz LTPOã€7500mAhã€80W",reason:"é¡¶çº§å½±åƒ"},
    {brand:"OPPO",name:"Reno8 Pro+",price:550,spec:"å¤©ç‘8100-MAXã€120Hzã€4500mAhã€80W",reason:"é¢œå€¼åœ¨çº¿"},
    {brand:"OPPO",name:"Reno9 Pro",price:570,spec:"å¤©ç‘8100-MAXã€120Hzã€4500mAhã€67W",reason:"æµç•…é¢œå€¼å¤‡ç”¨æœº"},
    {brand:"OPPO",name:"Reno9 Pro+",price:590,spec:"éªé¾™8+ Gen1ã€120Hzã€4700mAhã€80W",reason:"è½»è–„æ›²é¢"},
    {brand:"OPPO",name:"Reno10 Pro",price:700,spec:"å¤©ç‘8200ã€120Hzã€4600mAhã€80W",reason:"é•¿ç„¦ï¼Œäººåƒ"},
    {brand:"OPPO",name:"Reno10 Pro+",price:950,spec:"éªé¾™8+ Gen1ã€120Hzã€4700mAhã€100W",reason:"æ½œæœ›é•¿ç„¦"},

{brand:"vivo",name:"X80",price:550,spec:"å¤©ç‘9000ã€120Hzã€4500mAhã€80W",reason:"è”¡å¸å½±åƒæ——èˆ°"},
{brand:"vivo",name:"X80 Pro",price:750,spec:"éªé¾™8 Gen1ã€120Hz LTPOã€4700mAhã€80W",reason:"è”¡å¸T*å…‰å­¦é•œå¤´"},
 
{brand:"vivo",name:"X90",price:800,spec:"å¤©ç‘9200ã€120Hzã€4810mAhã€120W",reason:"è‡ªç ”V1+èŠ¯ç‰‡å½±åƒ"},
{brand:"vivo",name:"X90 Pro",price:1100,spec:"éªé¾™8 Gen2ã€120Hz LTPOã€4870mAhã€120W",reason:"ä¸€è‹±å¯¸ä¸»æ‘„"},
{brand:"vivo",name:"X90 Pro+",price:1350,spec:"éªé¾™8 Gen2ã€120Hz LTPOã€4870mAhã€80W",reason:"è”¡å¸å…¨ç„¦æ®µ"},
 
{brand:"vivo",name:"X100",price:1400,spec:"å¤©ç‘9300ã€120Hzã€5400mAhã€120W",reason:"V3å½±åƒèŠ¯ç‰‡+è“æµ·ç”µæ± "},
{brand:"vivo",name:"X100 Pro",price:2000,spec:"å¤©ç‘9300ã€120Hz LTPOã€5400mAhã€120W",reason:"è”¡å¸APOé•¿ç„¦"},
{brand:"vivo",name:"X100 Ultra",price:2800,spec:"å¤©ç‘9300+ã€120Hz LTPOã€5600mAhã€120W",reason:"ä¸€è‹±å¯¸æ½œæœ›é•¿ç„¦"},
 
{brand:"vivo",name:"X100S",price:1600,spec:"å¤©ç‘9300+ã€120Hzã€5400mAhã€120W",reason:"æ€§èƒ½ç»­èˆª"},
{brand:"vivo",name:"X100S Pro",price:2200,spec:"å¤©ç‘9300+ã€120Hz LTPOã€5400mAhã€120W",reason:"å½±åƒç®—æ³•å¢å¼º"},
 
{brand:"vivo",name:"X200",price:2200,spec:"å¤©ç‘9400ã€120Hzã€5600mAhã€120W",reason:"V4å½±åƒèŠ¯ç‰‡+è½»è–„"},
{brand:"vivo",name:"X200 Pro",price:2900,spec:"å¤©ç‘9400ã€120Hz LTPOã€5600mAhã€120W",reason:"å…¨ç„¦æ®µè”¡å¸æ——èˆ°"},
{brand:"vivo",name:"X200 Ultra",price:3999,spec:"å¤©ç‘9400+ã€120Hz LTPOã€5800mAhã€120W",reason:"é¡¶çº§å½±åƒ"},
 
{brand:"vivo",name:"X300",price:2800,spec:"å¤©ç‘9500ã€120Hzã€5800mAhã€120W",reason:"å…¨èƒ½æ——èˆ°"},
{brand:"vivo",name:"X300 Pro",price:3600,spec:"å¤©ç‘9500ã€120Hz LTPOã€5800mAhã€120W+50Wæ— çº¿",reason:"V5å½±åƒ+é•¿ç»­èˆª"},
{brand:"vivo",name:"X300 Ultra",price:4809,spec:"å¤©ç‘9500+ã€120Hz LTPOã€6000mAhã€120W+80Wæ— çº¿",reason:"vivoå½±åƒå¤©èŠ±æ¿"}ï¼Œ

    {brand:"è‹¹æœ",name:"iPhone 12 Pro",price:1100,spec:"A14ã€6.1è‹±å¯¸OLEDã€ä¸‰æ‘„ã€iOS",reason:"ç»å…¸ä¸‰æ‘„ï¼Œè€ç”¨æ€§å¼º"},
    {brand:"è‹¹æœ",name:"iPhone 12 Pro Max",price:1250,spec:"A14ã€6.7è‹±å¯¸OLEDã€å¤§åº•ä¸»æ‘„ã€iOS",reason:"å¤§å±å½±åƒæ——èˆ°ï¼Œç»­èˆªå‡ºè‰²"},
    {brand:"è‹¹æœ",name:"iPhone 13 Pro",price:1300,spec:"A15ã€ProMotioné«˜åˆ·ã€ä¸‰æ‘„ã€iOS",reason:"é«˜åˆ·ä½“éªŒï¼Œæ€§èƒ½æå‡æ˜æ˜¾"},
    {brand:"è‹¹æœ",name:"iPhone 13 Pro Max",price:1350,spec:"A15ã€6.7è‹±å¯¸é«˜åˆ·ã€å¤§ç”µæ± ã€iOS",reason:"ç»­èˆªå¤©èŠ±æ¿ï¼Œå½±åƒå‡çº§"},
    {brand:"è‹¹æœ",name:"iPhone 14 Pro",price:2100,spec:"A16ã€çµåŠ¨å²›ã€4800ä¸‡ä¸»æ‘„ã€iOS",reason:"çµåŠ¨å²›äº¤äº’ï¼Œå½±åƒå¤§å‡çº§"},
    {brand:"è‹¹æœ",name:"iPhone 14 Pro Max",price:2980,spec:"A16ã€6.7è‹±å¯¸çµåŠ¨å²›ã€é•¿ç»­èˆªã€iOS",reason:"å¤§å±æ——èˆ°ï¼Œç»¼åˆä½“éªŒå‡è¡¡"},
    {brand:"è‹¹æœ",name:"iPhone 15 Pro",price:3700,spec:"A17 Proã€é’›é‡‘å±æœºèº«ã€USB-Cã€iOS",reason:"é’›é‡‘å±æ›´è½»ï¼Œæ€§èƒ½å¼º"},
    {brand:"è‹¹æœ",name:"iPhone 15 Pro Max",price:4400,spec:"A17 Proã€5å€å…‰å­¦å˜ç„¦ã€USB-Cã€iOS",reason:"å½±åƒï¼Œæ‰‹æ„Ÿå¥½"},
    {brand:"è‹¹æœ",name:"iPhone 16 Pro",price:5100,spec:"A18 Proã€AIåŠŸèƒ½ã€ç›¸æœºæ§åˆ¶æŒ‰é’®ã€iOS",reason:"ä½“éªŒå‡çº§ï¼Œæ“æ§æ›´ä¾¿æ·"},
    {brand:"è‹¹æœ",name:"iPhone 16 Pro Max",price:6010,spec:"A18 Proã€å¤§å±å¹•ã€é•¿ç»­èˆªã€iOS",reason:"å¤§å±æ——èˆ°ï¼Œå½±åƒå¥½"},
    {brand:"è‹¹æœ",name:"iPhone 17 Pro",price:5100,spec:"A19 Pro",reason:"æ——èˆ°ï¼Œèƒ½åŠ›å…¨é¢"},
    {brand:"è‹¹æœ",name:"iPhone 17 Pro Max",price:6000,spec:"A19 Proã€æè‡´å½±åƒã€è¶…é•¿ç»­èˆªã€iOS",reason:"ç»¼åˆæ— çŸ­æ¿"},
    {brand:"ä¸€åŠ ",name:"ä¸€åŠ 9 Pro",price:550,spec:"éªé¾™888ã€2K 120Hz LTPOã€4500mAhã€65W",reason:"å“ˆè‹å½±åƒï¼Œå±å¹•å‡ºè‰²"},
    {brand:"ä¸€åŠ ",name:"ä¸€åŠ 10 Pro",price:620,spec:"éªé¾™8 Gen1ã€2K LTPOã€5000mAhã€80W",reason:"æ¸¸æˆä½“éªŒä¼˜åŒ–"},
    {brand:"ä¸€åŠ ",name:"ä¸€åŠ 11",price:750,spec:"éªé¾™8 Gen2ã€2K 120Hzã€5000mAhã€100W",reason:"æ€§èƒ½æ——èˆ°ï¼Œæ€§ä»·æ¯”é«˜"},
    {brand:"ä¸€åŠ ",name:"ä¸€åŠ 12",price:950,spec:"éªé¾™8 Gen3ã€2Kä¸œæ–¹å±ã€5400mAhã€100W",reason:"å…¨èƒ½æ——èˆ°ï¼Œå½±åƒå‡çº§"},
    {brand:"é­…æ—",name:"é­…æ—18 Pro",price:580,spec:"éªé¾™888ã€2K 120Hzã€4500mAhã€40W",reason:"è½»è–„æ——èˆ°ï¼ŒFlymeç³»ç»Ÿ"},
    {brand:"é­…æ—",name:"é­…æ—20",price:720,spec:"éªé¾™8 Gen2ã€144Hzã€4700mAhã€67W",reason:"ç›´å±æ——èˆ°ï¼Œè®¾è®¡ç®€çº¦"},
    {brand:"åä¸º",name:"åä¸ºP40 Pro",price:650,spec:"éº’éºŸ990ã€90Hz OLEDã€4200mAhã€40W",reason:"ç»å…¸å½±åƒæ——èˆ°"},
    {brand:"åä¸º",name:"åä¸ºMate 40 Pro",price:850,spec:"éº’éºŸ9000ã€90Hzã€4400mAhã€66W",reason:"éº’éºŸç»å”±ï¼Œå‡è¡¡æ——èˆ°"}
];

let currentList = [];
let currentSort = 'default';

function getRandomPhones(count) {
    return [...phones].sort(()=>0.5-Math.random()).slice(0,count);
}

function getHistory() {
    return JSON.parse(localStorage.getItem('searchHistory')||'[]');
}
function saveHistory(word) {
    if(!word)return;
    let h = getHistory();
    h = [word,...h.filter(x=>x!==word)];
    if(h.length>5)h=h.slice(0,5);
    localStorage.setItem('searchHistory',JSON.stringify(h));
    renderHistory();
}
function renderHistory() {
    document.getElementById('historyBox').innerHTML = getHistory().map(w=>
        `<div class="history-item" onclick="useHistory('${w}')">${w}</div>`
    ).join('');
}
function useHistory(w) {
    document.getElementById('keyword').value = w;
    filterPhone();
}

const tips = [
    "äºŒæ‰‹æ‰‹æœºä¼˜å…ˆçœ‹ç”µæ± å¥åº·ï¼Œ85%ä»¥ä¸Šæ›´è€ç”¨",
    "éªé¾™870/å¤©ç‘8100 ç™¾å…ƒæ¡£ç¥Uï¼Œå‘çƒ­ä½",
    "2Kå±æ›´æ¸…æ™°ï¼Œä½†æ›´è€—ç”µï¼Œ1.5Kæ˜¯å‡è¡¡é€‰æ‹©",
    "ç™¾ç“¦å¿«å……è™½ç„¶å¿«ï¼Œä½†é•¿æœŸä¼šç•¥å¾®åŠ é€Ÿç”µæ± è€åŒ–",
    "LCDå±æŠ¤çœ¼ï¼ŒOLEDè‰²å½©å¥½ï¼Œçœ‹éœ€æ±‚é€‰æ‹©",
    "ä¹°äºŒæ‰‹å°½é‡èµ°å¹³å°ï¼Œé¿å…éª—å­",
    "éªé¾™8+ã€éªé¾™8 Gen2 æ˜¯æ¯”è¾ƒæœ‰æ€§ä»·æ¯”çš„èŠ¯ç‰‡"
];
function showRandomTip() {
    document.getElementById('tipBar').innerText = "ğŸ’¡ "+tips[Math.floor(Math.random()*tips.length)];
}

function clearAllFilters() {
    document.getElementById('keyword').value='';
    document.getElementById('brand').value='å…¨éƒ¨';
    document.getElementById('minPrice').value='';
    document.getElementById('maxPrice').value='';
}

document.addEventListener('DOMContentLoaded',()=>{
    updateSortButtons();
    renderHistory();
    showRandomTip();
    document.getElementById('keyword').addEventListener('keypress',e=>{
        if(e.key==='Enter')filterPhone();
    });
    currentList = getRandomPhones(5);
    updateResultCount();
    renderPhoneList();
});

// æ¨¡ç³Šæœç´¢ï¼šè¾“å…¥ä»»æ„å‡ ä¸ªå­—éƒ½èƒ½åŒ¹é…
function filterPhone() {
    const keyword = document.getElementById('keyword').value.trim().toLowerCase();
    const brand = document.getElementById('brand').value;
    const min = parseInt(document.getElementById('minPrice').value)||0;
    const max = parseInt(document.getElementById('maxPrice').value)||99999;

    const r = document.getElementById('result');
    r.innerHTML = `<div class="loading"><div class="loading-spinner"></div><p>æ­£åœ¨ç­›é€‰...</p></div>`;

    if(keyword) saveHistory(keyword);

    setTimeout(()=>{
        currentList = phones.filter(p=>{
            const text = (p.brand+p.name+p.spec+p.reason).toLowerCase();
            const matchKw = !keyword || text.includes(keyword);
            const matchBrand = brand==='å…¨éƒ¨' || p.brand===brand;
            const matchPrice = p.price>=min && p.price<=max;
            return matchKw && matchBrand && matchPrice;
        });
        applySorting();
        updateResultCount();
        renderPhoneList();
    },280);
}

function applySorting() {
    if(currentSort==='asc')currentList.sort((a,b)=>a.price-b.price);
    else if(currentSort==='desc')currentList.sort((a,b)=>b.price-a.price);
}
function sortPhones(t) {
    currentSort = t; applySorting(); updateSortButtons(); renderPhoneList();
}
function updateSortButtons() {
    document.querySelectorAll('.sort-btn').forEach(b=>b.classList.remove('active'));
    document.getElementById({default:'sortDefault',asc:'sortAsc',desc:'sortDesc'}[currentSort]).classList.add('active');
}

function resetFilters() {
    clearAllFilters();
    currentList = getRandomPhones(5);
    currentSort = 'default';
    updateSortButtons();
    updateResultCount();
    renderPhoneList();
}

function updateResultCount() {
    document.getElementById('resultCount').textContent = `å…± ${currentList.length} æ¬¾`;
}

function renderPhoneList() {
    const r = document.getElementById('result');
    if(currentList.length===0) {
        const rec = getRandomPhones(5);
        r.innerHTML = `
        <div class="no-result">
            <div>ğŸ˜• æš‚æ— åŒ¹é…æœºå‹</div>
            <p style="font-size:12px;color:#888;">ä¸ºä½ æ¨èçƒ­é—¨æœºå‹</p>
        </div>
        <div class="recommend-label">â€”â€”â€” æ¨èæœºå‹ â€”â€”â€”</div>
        <div class="phone-list">${rec.map((p,i)=>`
            <div class="phone-item" onclick="showDetail(${i})">
                <div class="brand-tag brand-${getBrandClass(p.brand)}">${p.brand}</div>
                <div class="phone-name">${p.name}</div>
                <div class="phone-price">${p.price}</div>
                <div class="phone-spec">${p.spec}</div>
                <div class="phone-reason">${p.reason}</div>
            </div>
        `).join('')}</div>`;
        return;
    }
    r.innerHTML = `<div class="phone-list">${currentList.map((p,i)=>`
        <div class="phone-item" onclick="showDetail(${i})">
            <div class="brand-tag brand-${getBrandClass(p.brand)}">${p.brand}</div>
            <div class="phone-name">${p.name}</div>
            <div class="phone-price">${p.price}</div>
            <div class="phone-spec">${p.spec}</div>
            <div class="phone-reason">${p.reason}</div>
        </div>
    `).join('')}</div>`;
}

function getBrandClass(b) {
    return {å°ç±³:'xiaomi',çº¢ç±³:'redmi',è‹¹æœ:'apple',OPPO:'oppo',ä¸€åŠ :'oneplus',vivo:'vivo',é­…æ—:'meizu',åä¸º:'huawei'}[b]||'default';
}

function showDetail(i) {
    const p = currentList[i];
    document.getElementById('modalTitle').textContent = p.name;
    document.getElementById('modalBrand').textContent = p.brand;
    document.getElementById('modalBrand').className = 'brand-tag brand-'+getBrandClass(p.brand);
    document.getElementById('modalPrice').textContent = p.price+'å…ƒ';
    document.getElementById('modalSpec').textContent = p.spec;
    document.getElementById('modalReason').textContent = 'æ¨èç†ç”±ï¼š'+p.reason;
    document.getElementById('modal').style.display = 'flex';
}
function closeModal() {
    document.getElementById('modal').style.display='none';
}
window.onclick = e=>{if(e.target===modal)closeModal();}
</script>
</body>
</html>
